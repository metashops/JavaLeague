> 浙江大学翁恺老师课程总结的笔记，希望对你有所帮助。
>
> 使用编辑器：Mac的Xcode

## 第一周：程序设计与C语言

1、C语言程序框架

```c
#include <stdio.h>
int main(){
  printf("hello world!\n");
  return 0;
}
```

* 上述输出使用了printf()函数
* “\n”表示需要在输入的结果后面换一行。

2、“%d”的使用

```c
#include <stdio.h>
int main(){
  printf("23+23=%d",23+23);
  return 0;
}
```

解读`printf("23+23=%d",23+23);`%d意思就是将后面的23+23的值填充到它的位置，后头的值使用逗号隔开即可。

3、四则运法

| 四则运算 | C字号 | 意义 |
| :------: | :---: | :--: |
|    +     |   +   |  加  |
|    -     |   -   |  减  |
|    x     |   *   |  乘  |
|          |   /   |  除  |
|          |   %   | 取余 |
|    ()    |  ()   | 括号 |

* %表示两个数相除以后的余数

## 第二周：计算

1、scanf()函数的使用

假如我有100元，现在准备使用23元买一本书，那么如何能在程序运行输出23元，然后计算输出结果？

```c
#include <stdio.h>
int main(int argc, const char * argv[]) {
    int price = 0;
    printf("请输出金额(元)：");
    scanf("%d",&price);
    int change = 100 - price;
    printf("找你%d元\n",change);
    return 0;
}
```

* Int price = 0;

* 这一行，定义了一个变量。变量的名字是price，类型是int，初始值是0。
* 变量是一个保存数据的地方，当我们需要在程序里保存数据时，比如上面的例子中要记录用户输入的价格，就需要一个变量来保存它。用一个变量保存了数据，它才能参加到后面的计算中，比如计算找零钱。

2、变量定义

定义变量的一般形式就是：`<类型名称> <变量名称>;`

> int price;
>
> Int amount;
>
> Int price, amount;

注：变量的名字（C语言的保留字不能做标识符）

3、赋值

赋值和数学中有所不同，a=b在数学中表示关系，即a和b的值一样；而在程序设计中，a=b表示要求计算机做一个动作：将b的值赋给a。关系是静态的，而动作是动态的。在数学中，a=b和b=a是等价的，而在程序设计中，两个的意思是完全相反的。

4、初始化

初始化就是在定义变量的时候，就给它赋值如：`int price = 100;`这句代码意思就是定义一个price变量并且给它赋了值为100，这样是不是一目了然了。

5、读整数

* scanf()函数如：scanf("%d",&price);
* 要求scanf这个函数读入下一个整数，读到的结果赋值给变量price（price前面要加&）

6、常量

`int change = 100 - price;`固定不变的数就是常数，这里的100就是不变的。直接写在程序我们称作直接量（literal）。其实常量更好的方式就是单独定义一个常量如：`const int AMOUNT = 100;`

```c
#include <stdio.h>
int main(int argc, const char * argv[]) {
    const int AMOUNT = 100;
    int price = 0;
    printf("请输出金额(元)：");
    scanf("%d",&price);
    int change = AMOUNT - price;
    printf("找你%d元\n",change);
    return 0;
}
```

注：

* 上述用到的const是一个修饰符，如果给变量加上一个const的属性。就表示该变量的值一旦初始化就不能再修改了。

7、栗子：计算身高的程序

> 注：在C语言中，整数/整数=整数（不会四舍五入，它会把小数去掉）

![6F1EC4A0-77FC-4267-9EA5-B144C1101685.png](http://ww1.sinaimg.cn/large/006FuVcvgy1gpj0u6dm1qj30es0723z3.jpg)

以上的计算为什么不对呢？解决使用【浮点数】

> 带小数点的数值。浮点这个词本意就是指小数点就是浮动的，是计算机内部表达非整数（包含分数和无理数）的一种方式。另一种方式叫做定点数，不过在C语言中你会愈淡定点数。人们借用的浮点数这个词来表所有的带小数点的数。

***double 和 float分别是：双精度浮点数和单精度浮点数***，对上述进行优化与改进

![159183A4-8D4F-436C-B493-CFD8D665812C.png](http://ww1.sinaimg.cn/large/006FuVcvgy1gpj15b3pevj30ia08sq3n.jpg)

8、计算时间差

输入两个时间，每个时间分别输入小时和分钟的值，然后输出两个时间之的差，也可以几个小时几分表示。

```c
#include <stdio.h>
int main(int argc, const char * argv[]) {
    //计算时间差
    int hour1,minute1;
    int hour2,minute2;
    scanf("%d %d",&hour1,&minute1);
    scanf("%d %d",&hour2,&minute2);
    int t1 = hour1 * 60 + minute1;
    int t2 = hour1 * 60 + minute1;
    int t = t2 - t1;
    printf("时间差是%d小时%d分钟。",t/60,t%60);
    return 0;
}
```

**注**：Hour *60+minute是转换为分钟为单位，t/60小时部分，t%60为分钟

9、求平均值

> 写一个程序，输入两个整数，输出他们的平均值。

```C
    int a,b;
    printf("pleaes:");
    scanf("%d %d",&a,&b);
    double mean = (a+b)/2.0;
    printf("mean=%lf\n",mean);
    return 0;
```

10、交换两个变量

```C
		int a = 5;
    int b = 6;
    int t;//临时变量作交换
    t = a;
    a = b;
    b = t;
    printf("a=%d,b=%d\n",a,b);
    return 0;
```

11、复合赋值

（1）5个算术运算符：+-*/%，和赋值运算符“=”结合起来就是形成了“复合赋值运算符”

> `+=、-=、*=、/=、%=`

```c
total += 5;
total = total + 5;
```

（2）递增递减运算符

“++”和“--”是两个特殊的运算符，它们是单目运算符，这两个算子还必须是变量。这两个运算符分别叫“递增”和“递减”运算符。作用：给变量+1或者-1.

```c
count++;
count += 1;
count = count + 1;
```

***前缀后缀***

| 表达式  | 元算       | 表达式的值      |
| ------- | ---------- | --------------- |
| count++ | 给count加1 | count原来的值   |
| ++count | 给count加1 | count+1以后的值 |
| count-- | 给count减1 | count原来的值   |
| --count | 给count减1 | count-1以后的值 |

```c
    //递增递减运算
    int count = 10;
    count++;
    printf("++count等于：%d\n",count);
    ++count;
    printf("++count等于：%d\n",count);
    return 0;
运行结果：
++count等于：11
--count等于：12
```

## 第三周	判断

1、if-else判断语句

```c
if(条件语句){
  
}
```

条件，计算两个值之间的关系，所有叫做关系运算

| 运算符 |   意义   |
| :----: | :------: |
|   ==   |   相等   |
|   !=   |  不相等  |
|   >    |   大于   |
|   >=   | 大于等于 |
|   <    |   小于   |
|   <=   | 小于等于 |

```c
#include <stdio.h>
int main(int argc, const char * argv[]) {
    // 初始化
    int price = 0;
    int bill = 0;
    //读入金额和票面
    printf("请输入金额：");
    scanf("%d",&price);
    printf("请输入票面：");
    scanf("%d",&bill);
    if (bill >= price) {
        printf("找你领钱：%d\n", bill - price);
    } 
  	else {
        printf("对不起金额不足！\n");
    }
    return 0;
}
```

（2）switch-case

```c
#include <stdio.h>
int main(int argc, const char * argv[]) {
    int type;
    printf("请输入周1-7：");
    scanf("%d",&type);
    switch (type) {
        case 1:
            printf("今天周一是堵车的高峰日");
            break;
        case 2:
            printf("今天周二也是堵车的高峰日");
            break;
        case 3:
            printf("今天周三，路段很堵，建议骑行");
            break;
        case 4:
            printf("今天周四，路况还不错");
            break;
        case 5:
            printf("今天周五");
            break;
        case 6:
            printf("今天周六，去玩吧");
            break;
        case 7:
            printf("今天周日，可以好好休息？");
            break;
        default:
            break;
    }
    return 0;
}
```

## 第四周	循环

1、do-while循环

在进入循环的时候不做检查，而是在执行完一轮循环的代码之后，在来检查循环的条件是否满足，如果满足则继续下一轮，不满足则结束循环。

```c
do{
  <循环体语句>
}while(循环条件);
```

如：

```c
#include <stdio.h>
int main(int argc, const char * argv[]) {
    int x;
    int n = 0;
    printf("please:\n");
    scanf("%d",&x);
    do {
        x /= 10;
        n++;
    } while (x > 0);
    printf("x=%d,n=%d\n",x,n);
    return 0;
}
```

2、循环计算

```c
#include <stdio.h>
int main(int argc, const char * argv[]) {
    int count = 5;
    int temp = 0;
    while (count >= 0) {
        count--;
        temp++;
    }
    printf("统计数：%d\n",temp);
    printf("成功发射！\n");
    return 0;
}
```

3、猜数游戏

让计算机来想一个数，然后让用户来猜，用户没输入一个数，就告诉它是大了还是小了，直到用户猜中为止，最后还告诉用户猜了多少次。

（1）随机数：每次召唤rand()就得到一个随机整数，rand是C的类库函数。

（2）%100：**x % n的结果是【0,n-1】的一个整数。**

```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
int main(int argc, const char * argv[]) {
    srand(time(0));
    int number = rand() % 100 + 1;
    int count = 0;
    int a =  0;
    do {
        printf("----------------------\n");
        printf("请输入1-100之间你猜的数：");
        scanf("%d",&a);
        count++;
        if (a > number) {
            printf("你猜的数大了！\n");
        }
        else if (a < number){
            printf("你猜的数小了！\n");
        }
        
    } while (a != number);
    printf("你真棒！，你总共用了%d次就猜到答案。\n",count);
    return 0;
}
```

## 第五周	循环控制

1、阶乘

* n! = 1x2x3x4x5x...xn
* 写出一个程序，让用户输入n，然后计算输出n!

（1）for

```c
int main(int argc, const char * argv[]) {  
    int n;
    printf("请输入：");
    scanf("%d",&n);
    int fact = 1;
    //int i = 1;
    for (int i=1; i <= n; i++) {
        fact *= i;
    }
    printf("%d != %d\n",n,fact);
    return 0;
}
```

（2）循环次数

* for (i = 0; i <n; i++)
* 则循环的次数是n，而循环结束后，i的值是从n。循环的控制变量i，是选择从0开始还是从i开始，是判断i<n还是判断i<=n，对循环的次数，循环结束变量的值都是有影响。

（3）如何利用break和continue来控制循环

素数，只能被1和自己整除的数，不包括1

（4）break VS continue

* break：跳出循环
* continue：跳出循环这一轮剩下的语句进入下一轮。

（5）100以内的素数

（6）前n项求和

```c
int main(int argc, const char * argv[]) {
    int n;
    int i;
    double sum = 0.0;
    printf("please:");
    scanf("%d",&n);
    for (i = 1; i <= n; i++) {
        sum += 1.0/i;
    }
    printf("f(%d)=%f\n",n,sum);
    return 0;
}
```

（7）正序分解整数

* 输入一个非负整数，正序输出它的每一位数字
* 输入：13425
* 输出：1 3 4 2 5



## 第六周	数据类型

一、练习

1、水仙花数

水仙花数是指一个N位正整数（N>=3），它的每一位的数字的N次幂之和等于它的本身。例如：153 = 1次方+5次方+3次方。本题要求编写程序，

二、数据类型

* 整数：char、 short、 int、 long 
* 浮点型：float 、double 、long double
* 逻辑：bool
* 指针
* 自定义类型

（1）没什么特殊需要就只用int类型就好

（2）浮点类型：float 32字长占4个字节、double 64字长占8个字节

|  类型  | scanf | printf |
| :----: | :---: | :----: |
| float  |  %f   | %f,%e  |
| Double |  %lf  | %f,%e  |

注：使用%e是输出科学计数法：`1.234568E+03`

（3）字符类型

* char是一种整数，也是一种特殊的类型：字符。这因为用单引号表示的字符字面量：'a'和""也是字符。
* printf and scanf里面用%c来输入输出字符

（4）自动类型转换

* 当运算符的两边出现不一致的类型时，会自动转换成较大的类型
* 大的意思是能表达的数的范围更大
* Char——>short——>int——>long——>long long
* Int ——>float——>double

（5）逻辑运算

| 运算符 | 描述 |  是咧   |                  结果                   |
| :----: | :--: | :-----: | :-------------------------------------: |
|   !    |  非  |   !a    |                                         |
|   &&   |  与  | a && b  | if a and b都是true，结果是true否则false |
|  \|\|  |  或  | a \|\|b |                                         |
|        |      |         |                                         |

优先级：`！> && > ||`

（6）条件运算符

* count = (count > 20) ? Count - 10 : count +10

* 解释：条件、条件满足时的值和条件不满足时的值

* 如同：

  ```c
  if (count > 20)
    count = count - 10;
  else
    count = count + 10;
  ```



## 第七周	函数

（1）什么是函数

* 函数是一块代码，接收零个或者多个参数做一件事，并返回零个或一个值。

举例分析函数

```c
void sum(int begin, int end) {
    int i;
    int sum = 0;
    for (i = begin; i <= end; i++) {
        sum += i;
    }
    printf("%d到%d的和是%d\n",begin,end,sum);
}
```

* 剖析`void sum(int begin, int end) `
  * Sum：定义一个函数名为
  * void：返回类型
  * sum(int begin, int end) ：定义一个函数sum，括号里头就是（参数表）

（2）如何调用自己定义的函数

* 函数名(参数)

```c
void sum(int begin, int end) {
    int i;
    int sum = 0;
    for (i = begin; i <= end; i++) {//两个形参
        sum += i;
    }
    printf("%d到%d的和是%d\n",begin,end,sum);
}
int main() {
    sum(1, 5);//实际参数
    sum(6, 7);
    return 0;
}
```

（3）函数调用

* 如果函数有参数，调用函数时必须传递给它数量、类型正确的值
* 可以传递给函数的值是表达式的结果，包括：字面量、变量、函数的返回值、计算的结果。
* 函数参数表中的参数，叫做“形式参数”，调用函数时给的值叫做“实际参数”。

（4）本地变量

* 函数每次运行，就产生一个独立 的变量空间，在这个空间的变量，是函数的这次运行所独有的，称作*本地变量*

* 定义在函数内部的变量就是本地变量，参数也是本地变量。



## 第八周	数组

（1）定义数组

* <类型> 变量名称[元素数量];
* Int grades[100];
* Double weight[20];
* C99之前：元素数量必须是编译时刻确定的字面量

（2）数组

* 数组是一种容器特点：
  * 其中所有的元素具有相同的数据类型
  * 一旦创建，不能改变大小
  * 数组中的元素在内存中是连续依次排列的

（3）数组的集成初始化

```c
int a[] = {2,3,5,8,9,12,15,18,30};
```

（4）遍历数组

* 通常都是使用for循环，让昏眩变量i才从0开始到小于数组长度，这样循环体内最大的i正好是数组的最大长度的有效下标。

（5）二维数组

* ```c
  int a[3][5];
  ```

* 通常理解为a是一个3行5列的矩阵

（6）二维数组遍历

* ```c
  for (i = 0; i < 3; i++){
    for (j = 0; j < 5; j++){
      a[i][j] = i * j;
    }
  }
  ```

* `a[i][j]`是一个int

* 表示第i行第j列上的单元



## 第九周	指针

（1）取地址运算：&运算符取的变量的地址

* 运算符&
  * 作用：获得变量的地址，它的操作数必须是变量

（2）指针

* 指针就是保存地址的变量

* ```c
  int i;
  int* p = &i;
  int* p,q;
  int *p,q;
  //*表示p是一个指针，把i的地址交给了p
  ```

* 指针变量的值是内存的地址，普通变量的值是实际值，指针变量的值是具有实际值的变量的地址。（指针变量是存放地址的然后指向别的）

（2）作为参数的指针

```
void fun(int *p);
#在被调用的时候得到了某个变量的地址
int i = 0;fun(&i);
#在函数里面可以通过这个指针访问外面的这个i
```

如：

```c
#include <stdio.h>
void fun(int *p);
int main(int argc, const char * argv[]) {
    int i = 6;
    printf("&i=%p\n",&i);
    fun(&i);
    return 0;
}
void fun(int *p) {
    printf("p=%p\n",p);
}
```

（3）如何访问那个地址的变量*

* *是一个单目运算符，用来访问指针的值所表示的地址上的变量

* 可以做左值也可以做右值

  * ```c
    int k = *p;
    *p = k + 1;
    ```

```c
#include <stdio.h>
void fun(int *p);
void g(int k);
int main(int argc, const char * argv[]) {
    int i = 6;
    printf("&i=%p\n",&i);
    fun(&i);
    g(i);
    return 0;
}

void fun(int *p) {
    printf("p=%p\n",p);
    printf("*p=%d\n",*p);
    *p = 2021;
}
void g(int k){
    printf("k=%d\n",k);
}
```



（4）指针应用场景

* 场景 一：交换两个变量

  * ```c
    #include <stdio.h>
    void swap(int *pa, int *pd);
    int main(int argc, const char * argv[]) {
        int a = 5;
        int b = 6;
        swap(&a, &b);
        printf("a=%d\nb=%d\n",a,b);
        
        return 0;
    }
    void swap(int *pa, int *pd) {
        int t = *pa;
        *pa = *pd;
        *pd = t;
    }
    ```

* 场景二：函数返回多个值，某些值就只能通过指针返回，在传入的参数实际上是需要保存带回的结果的变量。

（5）指针是const

* 使用const声明表示一旦得到了某个变量的地址，不能再指向其他变量

```c
int *const q = &i;//q是const
*q = 26;//ok
q++;//error
```

（6）保护数组值

* 因为把数组传入函数时传递的是地址，所以那个函数内部可以修改数组的值

* 为了保护数组不被函数破坏，可以设置参数为const

* ```
  int sum(const int a[],int lenght);
  ```

* 



## 第十周	指针（二）

（1）定义及理解指针

```c
#include <stdio.h>
int main(){
    int number = 23;
    /*
    说明：
     1、如果要输出一个变量的地址，使用%p格式；
     2、&nnumber表示取出number这个变量对应的地址
     */
    printf("number的值=%d\nnumber的地址=%p\n\n",number,&number);
    printf("==========以下是定义指针==========\n\n");
    /*定义指针变量
     1、int* 表示类型为指针类型
     2、名称per是一个类型变量的地址
     3、per指向了一个int的类型的变量地址
    */
    int *per = &number;
    /*
     1、指针变量，本地也有地址&per
     2、指针变量，存放的地址per
     3、获取指针指向的值*per
     */
    printf("per的地址是%p\nper存放的值是一个地址为%p\nper指向的值=%d\n",&per,per,*per);
    return 0;
}
```

