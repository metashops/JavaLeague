## 一、第一个Hello World

1、hello world

依赖

```
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>2.5.3</version>
    </parent>
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
    </dependencies>

```

2、主程序

```java
@SpringBootApplication
public class SpringbootApplication {
    public static void main(String[] args) {
        SpringApplication.run(SpringbootApplication.class,args);
    }
}
```

3、controller

```java
@RestController
public class HelloController {
    @RequestMapping("/aa")
    public String hello01(){
        return "Hello Spring Boot2";
    }
}
```





## 二、自动配置特性

### 1、组件添加

（1）**@Configuration**

configuration是将组件添加到容器中，我可以编写一个类，然后添加该注解即可将组件添加到容器中。配置类里面使用@bean标注在方法上给容器注册组件，默认是单实例。

```java
@Configuration //告诉SpringBoot这是配置类
public class MyConfig {
    @Bean //该注解是给容器添加组件，以方法名作为组件的ID。然后类型是组件是类型，返回值就是组件在容器终端实例
    public User user01(){
        return new User("zhangsan",18);
    }
    @Bean
    public Pet tomcatPet(){
        return new Pet("tomcat");
    }
}
```

Springboot5.2以后，该注解多了一个proxyBeanMethods默认是true（是不是代理Bean方法）

```
@Configuration(proxyBeanMethods = true) //true是获取代理对象方法
@Configuration(proxyBeanMethods = false) //false获取不再是代理对象，也就是你每一次调用都是新的对象
```

proxyBeanMethods = true解决组件的依赖

proxyBeanMethods = false不经过代理，直接跳过检查，每次调用都是新的对象



（2）**@Import**

该注解是给容器导入组件，写在组件的都可以使用

（3）**@Conditional**

条件装配：满足Conditional指定的条件，则进行组件注入

（4）**@ImportResource**

提供导入Spring的组件

### 2、配置绑定

（1）第一种：@Component + @ConfigurationProperties

想把跟某一个类有关的放在配置文件中，如下

```
mycar.beand=BYD
mycar.price=100000
```

然后car类想要使用，那么将在该类上使用注解@@ConfigurationProperties(prefix = "mycar")，然后如下容器中，如下。

> 注意：只有在容器中的组件，才能拥有SpringBoot提供的功能

```java
@Component
@ConfigurationProperties(prefix = "mycar")
public class Car {...}
```

然后在业务调用

```java
    @Autowired
    Car car;
    @RequestMapping("/car")
    public Car car(){
        return car;
    }
```

（2）第二种方式@EnableConfigurationProperties + @ConfigurationProperties

这种方式@EnableConfigurationProperties需要在配置文件写

```
@EnableConfigurationProperties(Car.class)
//1、开启Car配置绑定功能
//2、把这个Car这个组件自动注册到容器中
public class MyConfig {
}
```

然后在car类上就不用写component注解，只要写ConfigurationProperties注解