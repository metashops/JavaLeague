### 一、虚拟机安装

>基本工具：SecureCRT （SSH终端）、 VMware（虚拟机）、Transmit（SFTP文件传输）

1、centos7 图形化与命令行切换

```
# 查看系统2种启动
cat /etc/inittab
# 查看当前模式
systemctl get-default
# 设置为命令行
systemctl set-default multi-user.target
# 重启即可
reboot
```

2、网络设置

第一步：进入虚拟机选择桥接模式里面的Wi-Fi

第二步：进入虚拟机终端给它设置静态IP，不然每次都是自动分配这样不方便后面做群聚使用

```
#命令行输出该工具即可
dhclient
#分配好的IP接下来绑定，进入配置
vim/etc/sysconfig/network-scripts/ifcfg-ens33
#将BOOTPROTO="static" 和 ONBOOT=yes 以及刚才设置的IP
BOOTPROTO="static"
ONBOOT=yes
IPADDR=
# 子网掩码
NETMASK:255.255.255.0
#网关
GATEWAY:192.168.0.1
#公网
DNS1:8.8.8.8
```

第三步：重启`systemctl restart network.service`

3、修改主机名称

```
vim /etc/hostname
```

4、主机名称映射

```
vim /etc/hosts
# 
172.16.64.131 hadoop10001
172.16.64.132 hadoop100
172.16.64.133 hadoop10003
172.16.64.134 hadoop10004
172.16.64.135 hadoop10005
```



4、防火墙关闭

```
#查看防火墙状态,执行后可以看到绿色字样标注的“active（running）”，说明防火墙是开启状态
systemctl status firewalld.service
#关闭运行的防火墙
systemctl stop firewalld.service
# 禁止防火墙服务器,上面的一旦重启自动开起的
systemctl disable firewalld.service
```

5、基本软件安装

（1）安装 epel-release

这是红帽系操作系统提供额外软件包

```
 yum install -y epel-release
```

（2）创建普通用户

```
useradd cathax
passwd cathax
vi /etc/sudpers
# 输入内容：cathax  ALL=(ALL)       NOPASSWD:ALL
```

6、克隆虚拟机

克隆完成之后需要修改这三个地方

```
# 修改IP地址
vim /etc/sysconfig/network-scripts/ifcfg-ens33
# 修改主机名称
vim /etc/hostname
# 这一步如果添加过就不需要改动，映射主机的
vim /etc/hosts
```

> 此时Linux集群已经成功搭建好了

7、安装JDK，选择在任意一台安装即可，其他使用分发方式进行分发

````
# 解压,-C指向/opt/model/意思就是安装在那个目录下
 tar -zxvf jdk-8u301-linux-x64.tar.gz -C /opt/module/
````

配置环境变量

```
# 现在配置JDK在该目录配置
cd /etc/profile.d
# 自己创建一个文件
sudo vim my_env_sh
# 配置如下
# export全局变量的意思
export JAVA_HOME=/opt/module/jdk1.8.0_301
# 加载到path目录下
export PATH=$PATH:$JAVA_HOME/bin
# 然后source
source /etc/profile
```

8、安装Hadoop

```
 tar -zxvf hadoop-3.2.2-src.tar.gz -C /opt/module/
 # 配置
 # HADOOP_HOME
export HADOOP_HOME=/opt/module/hadoop-3.2.2
export PATH=$PATH:$HADOOP_HOME/bin
export PATH=$PATH:$HADOOP_HOME/sbin
```

9、

（1）scp（Secure copy）安全拷贝

```
# 命令   递归   要拷贝的文件路径名称   目的地用户@主机:目的地路径/名称
```



